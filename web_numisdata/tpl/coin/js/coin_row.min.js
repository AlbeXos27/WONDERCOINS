"use strict";var coin_row={caller:null,draw_coin:function(row){SHOW_DEBUG;const fragment=new DocumentFragment;if(!row)return fragment;if(!0===dedalo_logged){const link=common.create_dom_element({element_type:"a",class_name:"section_id go_to_dedalo",text_content:row.section_id,href:"/dedalo/lib/dedalo/main/?t=numisdata4&id="+row.section_id,parent:fragment});link.setAttribute("target","_blank")}const identify_images=common.create_dom_element({element_type:"div",class_name:"identify_images_wrapper gallery coins-sides-wrapper",parent:fragment});let coin_number=tstring.number||"Number";if(coin_number+=" "+row.section_id,row.image_obverse&&row.image_obverse.length>0){const image_link=common.create_dom_element({element_type:"a",class_name:"image_link",href:row.image_obverse,parent:identify_images}),image_obverse=common.create_dom_element({element_type:"img",class_name:"image image_obverse",title:coin_number,src:row.image_obverse,parent:image_link});if(row.collection&&row.collection.length>0){const collection_former=row.former_collection&&row.former_collection.length>0?row.collection+" ("+row.former_collection+")":row.collection,collection_label=row.number&&row.number.length>0?collection_former+" "+row.number:collection_former;image_obverse.setAttribute("data-caption",collection_label)}if(console.log(row),row.ref_auction_group)for(let i=0;i<row.ref_auction_group.length;i++){const auction=row.ref_auction_group[i];let auctionGalleryAttributes="";auction.name&&(auctionGalleryAttributes+=auction.name),auction.date&&(auctionGalleryAttributes+=" "+auction.date),auction.number&&(auctionGalleryAttributes+=", "+auction.number),row.number&&(auctionGalleryAttributes+=", "+(tstring.lot||"lot")+" "+row.number),image_obverse.setAttribute("data-caption",auctionGalleryAttributes)}if(row.image_obverse_data[0]&&row.image_obverse_data[0].photographer){const currentAttr=image_obverse.getAttribute("data-caption");image_obverse.setAttribute("data-caption",currentAttr+'<spam> | </spam> <i class="fa fa-camera"></i> '+row.image_obverse_data[0].photographer)}}if(row.image_reverse&&row.image_reverse.length>0){const image_link=common.create_dom_element({element_type:"a",class_name:"image_link",href:row.image_reverse,parent:identify_images}),image_reverse=common.create_dom_element({element_type:"img",class_name:"image image_reverse",title:coin_number,src:row.image_reverse,parent:image_link})}const info_container=common.create_dom_element({element_type:"div",class_name:"info_container",parent:fragment});row.section_id&&row.section_id>0&&(common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:"ID",parent:info_container}),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:row.section_id,parent:info_container})),row.denomination&&(common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:"DENOMINACIÃ“N",parent:info_container}),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:row.denomination.split("|")[0],parent:info_container}));const label_collection=[],value_collection=[];row.collection&&row.collection.length>0&&(label_collection.push(tstring.collection||"Collection"),value_collection.push(row.collection)),row.former_collection&&row.former_collection.length>0&&value_collection.push("("+row.former_collection+")"),value_collection.length>0&&row.number&&row.number.length>0&&value_collection.push(row.number);const label_collection_node=common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:label_collection.join(""),parent:info_container}),value_collection_node=common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:value_collection.join(" "),parent:info_container}),num_link=null!=row.findspot_data?JSON.parse(row.findspot_data)[0]:null;if(num_link){const findspot_node=common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:"Hallazgo",parent:info_container}),value_findspot_node=common.create_dom_element({element_type:"a",class_name:"rigth-values type_label",inner_html:row.findspot+' <a class="icon_link"></a> ',href:page_globals.__WEB_ROOT_WEB__+"/findspot/"+num_link,target:"_blank",parent:info_container})}if(row.ref_auction_group){const label_auctions=[];label_auctions.push(tstring.auction||"Auction");const label_auctions_node=common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:label_auctions.join(" | "),parent:info_container});for(let i=0;i<row.ref_auction_group.length;i++){const auction=row.ref_auction_group[i],auction_label=[];auction.name&&(auction_label.push(auction.name),auction_label.push(" ")),auction.date&&(auction_label.push(auction.date),auction_label.push(", ")),auction.number&&(auction_label.push(auction.number||row.number),auction_label.push(", ")),row.number&&(auction_label.push(tstring.lot||"Lot"),auction_label.push(" "+row.number)),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:auction_label.join(""),parent:info_container})}}const value_equivalents=[];if(row.ref_related_coin_auction_group&&row.ref_related_coin_auction_group.length>0)for(let i=0;i<row.ref_related_coin_auction_group.length;i++){const current_value_equivalents=[];row.ref_related_coin_auction_group[i].name.length>0&&(current_value_equivalents.push("= "+row.ref_related_coin_auction_group[i].name),row.ref_related_coin_auction_group[i].number&&row.ref_related_coin_auction_group[i].number.length>0&&current_value_equivalents.push(row.ref_related_coin_auction_group[i].number)),value_equivalents.push(current_value_equivalents.join(" | "))}const value_equivalents_node=common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:value_equivalents.join(" <br> "),parent:info_container}),label_type_name=tstring.type||"Type",label_type=label_type_name,type_section=row.type_data.find(item=>item.catalogue===page_globals.OWN_CATALOG_ACRONYM)?row.type_data.find(item=>item.catalogue===page_globals.OWN_CATALOG_ACRONYM):row.type_data[0],creators_data=void 0!==type_section?type_section.creators_data:null;if(creators_data&&creators_data.length>0){const data=JSON.parse(creators_data),ar_names=type_section.creators_names?type_section.creators_names.split(" | "):[],ar_surnames=type_section.creators_surnames?type_section.creators_surnames.split(" | "):[],ar_roles=type_section.creators_roles?type_section.creators_roles.split("|"):[],text_creators=[],data_length=data.length;for(var i=0;i<data_length;i++){const name=ar_names[i]?ar_names[i]:"",surname=ar_surnames[i]?ar_surnames[i]:"",rol=ar_roles[i]?"("+ar_roles[i]+")":"",creator_name=name+" "+surname,creator=creator_name.trim()+" "+rol;text_creators.push(creator.trim())}common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.authorities||"Authorities",parent:info_container});const prompt_label=common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:text_creators,parent:info_container})}const mint=type_section.mint?type_section.mint:"",mint_number=type_section.mint_number?type_section.mint_number:"",type_number=type_section.number?type_section.number:"",value_type=mint?mint+" "+type_section.catalogue+" "+mint_number+"/"+type_number:+type_section.catalogue+" "+type_number,type_uri=page_globals.__WEB_ROOT_WEB__+"/type/"+type_section.section_id,type_uri_text='<a class="icon_link" href="'+type_uri+'"></a> ',label_type_node=common.create_dom_element({element_type:"label",class_name:"left-labels",inner_html:label_type,parent:info_container}),value_type_node=common.create_dom_element({element_type:"a",class_name:"rigth-values type_label",inner_html:value_type+" "+type_uri_text,href:type_uri,target:"_blank",parent:info_container});for(let i=0;i<row.catalogue_type_mint.length;i++){const catalogue=row.catalogue_type_mint[i];if(catalogue===page_globals.OWN_CATALOG_ACRONYM)continue;const value_type_node=common.create_dom_element({element_type:"span",class_name:"rigth-values equivalents",inner_html:catalogue+" "+row.type[i],parent:info_container})}common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.obverse.toUpperCase()||"OBVERSE",parent:info_container});const design_obverse=void 0!==type_section?type_section.design_obverse:null,psqo_obverse={$and:[{id:"design_obverse",q:design_obverse,op:"="}]},safe_psqo_observe=psqo_factory.build_safe_psqo(psqo_obverse),parse_psqo_observe=psqo_factory.encode_psqo(safe_psqo_observe);if(design_obverse&&design_obverse.length>0){common.create_dom_element({element_type:"label",class_name:"left-labels sub-label",text_content:tstring.design||"design",parent:info_container});const catalog_url=page_globals.__WEB_ROOT_WEB__+"/catalog/?psqo="+parse_psqo_observe,prompt_label=common.create_dom_element({element_type:"a",class_name:"rigth-values",inner_html:design_obverse,href:catalog_url,parent:info_container})}const symbol_obverse=void 0!==type_section?type_section.symbol_obverse:null;if(symbol_obverse&&symbol_obverse.length>0){common.create_dom_element({element_type:"label",class_name:"left-labels sub-label",text_content:tstring.symbol||"symbol",parent:info_container});const catalog_url=page_globals.__WEB_ROOT_WEB__+"/catalog/?item_type=symbol_obverse&label="+symbol_obverse+"&value="+symbol_obverse,prompt_label=common.create_dom_element({element_type:"a",class_name:"rigth-values",inner_html:symbol_obverse,href:catalog_url,parent:info_container})}const legend_obverse=void 0!==type_section?type_section.legend_obverse:null;if(legend_obverse&&legend_obverse.length>0){common.create_dom_element({element_type:"label",class_name:"left-labels sub-label",text_content:tstring.legend||"legend",parent:info_container});const legend_node=page.render_legend({value:legend_obverse,style:"median legend_obverse_box rigth-values"});info_container.appendChild(legend_node)}const legend_obverse_transcription=void 0!==type_section?type_section.legend_obverse_transcription:null;if(legend_obverse_transcription&&legend_obverse_transcription.length>0){common.create_dom_element({element_type:"label",class_name:"left-labels sub-label",text_content:tstring.transcription||"Transcription",parent:info_container});const prompt_label=common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:legend_obverse_transcription,parent:info_container})}if(row.countermark_obverse&&row.countermark_obverse.length>0){common.create_dom_element({element_type:"label",class_name:"left-labels sub-label",text_content:tstring.countermark||"countermark",parent:info_container});const current_node=page.render_legend({value:row.countermark_obverse,style:"median countermark_obverse_box rigth-values"});info_container.appendChild(current_node)}common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.reverse.toUpperCase()||"REVERSE",parent:info_container});const design_reverse=void 0!==type_section?type_section.design_reverse:null,psqo_reverse={$and:[{id:"design_reverse",q:design_reverse,op:"="}]},safe_psqo_reverse=psqo_factory.build_safe_psqo(psqo_reverse),parse_psqo_reverse=psqo_factory.encode_psqo(safe_psqo_reverse);if(design_reverse&&design_reverse.length>0){common.create_dom_element({element_type:"label",class_name:"left-labels sub-label",text_content:tstring.design||"design",parent:info_container});const catalog_url=page_globals.__WEB_ROOT_WEB__+"/catalog/?psqo="+parse_psqo_reverse,prompt_label=common.create_dom_element({element_type:"a",class_name:"rigth-values",inner_html:design_reverse,href:catalog_url,parent:info_container})}const symbol_reverse=void 0!==type_section?type_section.symbol_reverse:null;symbol_reverse&&symbol_reverse.length>0&&(common.create_dom_element({element_type:"label",class_name:"left-labels sub-label",text_content:tstring.symbol||"symbol",parent:info_container}),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:symbol_reverse,parent:info_container}));const legend_reverse=void 0!==type_section?type_section.legend_reverse:null;if(legend_reverse&&legend_reverse.length>0){common.create_dom_element({element_type:"label",class_name:"left-labels sub-label",text_content:tstring.legend||"legend",parent:info_container});const legend_node=page.render_legend({value:legend_reverse,style:"median legend_reverse_box rigth-values"});info_container.appendChild(legend_node)}const legend_reverse_transcription=void 0!==type_section?type_section.legend_reverse_transcription:null;if(legend_reverse_transcription&&legend_reverse_transcription.length>0){common.create_dom_element({element_type:"label",class_name:"left-labels sub-label",text_content:tstring.transcription||"Transcription",parent:info_container});const prompt_label=common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:legend_reverse_transcription,parent:info_container})}if(row.countermark_reverse&&row.countermark_reverse.length>0){common.create_dom_element({element_type:"label",class_name:"left-labels sub-label",text_content:tstring.countermark||"countermark",parent:info_container});const current_node=page.render_legend({value:row.countermark_reverse,style:"median countermark_reverse_box rigth-values"});info_container.appendChild(current_node)}row.weight&&row.weight.length>0&&(common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.weight||"weight",parent:info_container}),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:row.weight+" g",parent:info_container})),row.diameter&&row.diameter.length>0&&(common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.diameter||"diameter",parent:info_container}),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:row.diameter+" mm",parent:info_container})),row.dies&&row.dies.length>0&&(common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.dies||"dies",parent:info_container}),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:row.dies,parent:info_container})),row.technique&&row.technique.length>0&&(common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.technique||"technique",parent:info_container}),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:row.technique,parent:info_container})),row.find_type&&row.find_type.length>0&&(common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.find_type||"find_type",parent:info_container}),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:row.find_type,parent:info_container})),row.hoard&&row.hoard.length>0&&(common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.hoard||"hoard",parent:info_container}),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:row.hoard,parent:info_container})),row.findspot_place&&row.findspot_place.length>0&&(common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.findspot_place||"findspot_place",parent:info_container}),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:row.findspot_place,parent:info_container})),row.find_date&&row.find_date.length>0&&(common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.find_date||"find_date",parent:info_container}),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:row.find_date,parent:info_container})),row.public_info&&row.public_info.length>1&&'<br data-mce-bogus="1">'!==row.public_info&&(common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.public_info||"public_info",parent:info_container}),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:row.public_info,parent:info_container}));const uri=row.coin_uri,uri_text='<a class="icon_link info_value" target="_blank" href="'+uri+'"> '+uri+" </a> ";if(row.coin_uri&&row.coin_uri.length>0&&(common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.uri||"uri",parent:info_container}),common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:uri_text,parent:info_container})),row.uri&&row.uri.length>0)for(let i=0;i<row.uri.length;i++){const currentUri=row.uri[i],currentUri_text='<a class="icon_link info_value" target="_blank" href="'+currentUri.value+'"> '+currentUri.label+"</a> ";common.create_dom_element({element_type:"span",class_name:"rigth-values",inner_html:currentUri_text,parent:info_container})}if(row.bibliography_data&&row.bibliography_data.length>0){common.create_dom_element({element_type:"label",class_name:"left-labels",text_content:tstring.bibliography||"bibliography",parent:info_container});const bibliography_group=common.create_dom_element({element_type:"div",class_name:"vertical-group",parent:info_container}),ref_biblio=row.bibliography_data,ref_biblio_length=ref_biblio.length;for(let i=0;i<ref_biblio_length;i++){const biblio_row_node=biblio_row_fields.render_row_bibliography(ref_biblio[i]),biblio_row_wrapper=common.create_dom_element({element_type:"div",class_name:"rigth-values sub-vertical-group",parent:bibliography_group});biblio_row_wrapper.appendChild(biblio_row_node)}}const row_wrapper=common.create_dom_element({element_type:"div",class_name:"row_wrapper"});return row_wrapper.appendChild(fragment),row_wrapper}};