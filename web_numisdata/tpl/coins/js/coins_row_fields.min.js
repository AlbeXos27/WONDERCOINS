"use strict";var coins_row_fields={ar_rows:[],caller:null,last_type:null,draw_item:function(row){const self=this,fragment=new DocumentFragment,current_type=JSON.stringify(row.type_data),print_type=current_type!==this.last_type;if(null!=row.type_data&&print_type){const type_wrapper=common.create_dom_element({element_type:"div",class_name:"type_wrapper",parent:fragment});for(let i=0;i<row.type_data.length;i++){const type_row=common.create_dom_element({element_type:"div",class_name:"type_row",parent:type_wrapper}),current_type_data=row.type_data[i],current_type_number=row.type&&null!=row.type[i]?row.type[i]:0,current_catalogue=row.catalogue_type_mint[i];if(current_catalogue===page_globals.OWN_CATALOG_ACRONYM){const ar_mint_number=row.mint_number[i]?row.mint_number[i]:[],mint_number=ar_mint_number.join(" | "),current_numismatic_number=mint_number+"/"+current_type_number,mint_line=common.create_dom_element({element_type:"div",class_name:"mint",parent:type_row}),mint_data=row.mint_data[i]?row.mint_data[i]:[],mint=row.mint[i]?row.mint[i]:[];for(let i=0;i<mint_data.length;i++){const current_mint_id=mint_data[i],mint_name=mint[i],mint_uri=page_globals.__WEB_ROOT_WEB__+"/mint/"+current_mint_id,mint_uri_text='<a class="icon_link" href="'+mint_uri+'"></a> ';common.create_dom_element({element_type:"a",inner_html:mint_name+mint_uri_text,class_name:"mint_label",href:mint_uri,target:"_blank",parent:mint_line})}const type_uri=page_globals.__WEB_ROOT_WEB__+"/type/"+current_type_data,type_uri_text='<a class="icon_link" href="'+type_uri+'"></a> ';common.create_dom_element({element_type:"a",inner_html:current_catalogue+" "+current_numismatic_number+type_uri_text,class_name:"type_label",href:type_uri,target:"_blank",parent:type_row})}else common.create_dom_element({element_type:"div",inner_html:current_catalogue+" "+current_type_number,class_name:"type_label",parent:type_row})}}const wrapper=common.create_dom_element({element_type:"div",class_name:"row_wrapper",parent:fragment}),data_cont=common.create_dom_element({element_type:"div",class_name:"info_container",parent:wrapper}),uri=page_globals.__WEB_ROOT_WEB__+"/coin/"+row.section_id,full_url=page_globals.__WEB_BASE_URL__+uri;if(common.create_dom_element({element_type:"a",inner_html:"ID: "+row.section_id,class_name:"mint_label icon_link_after",href:uri,target:"_blank",parent:data_cont}),null!=row.collection&&row.collection.length>0){const collection_label=tstring.collection||"Collection";let collectionInfo=collection_label+": "+row.collection;row.former_collection&&null!=row.former_collection&&row.former_collection.length>0&&(collectionInfo+=" | "+row.former_collection),row.number&&null!=row.number&&row.number.length>0&&(collectionInfo+=" | "+row.number),common.create_dom_element({element_type:"div",inner_html:collectionInfo,class_name:"",parent:data_cont})}if(row.ref_auction_group)for(let i=0;i<row.ref_auction_group.length;i++){const auction=row.ref_auction_group[i],auction_label=[];auction.name&&auction_label.push(auction.name),auction.date&&auction_label.push(auction.date),auction.number&&auction_label.push(auction.number),common.create_dom_element({element_type:"div",inner_html:auction_label.join(" | "),class_name:"",parent:data_cont})}const contuermarks_wrapper=common.create_dom_element({element_type:"div",class_name:"",parent:data_cont});if(row.countermark_obverse&&contuermarks_wrapper.appendChild(page.render_legend({value:row.countermark_obverse,style:"median legend_reverse_box"})),row.countermark_reverse&&contuermarks_wrapper.appendChild(page.render_legend({value:row.countermark_reverse,style:"median legend_reverse_box"})),row.find_type&&row.find_type.length>0){const find_label=tstring.find_type||"Find type";common.create_dom_element({element_type:"div",class_name:"info_value find_type",inner_html:find_label+": "+row.find_type,parent:data_cont})}var hoard_line="";row.hoard&&row.hoard.length>0&&(hoard_line=row.hoard),row.findspot_place&&row.findspot_place.length>0&&(""===hoard_line?hoard_line=row.findspot_place:hoard_line+=" | "+row.findspot_place),row.find_date&&row.find_date.length>0&&(""===hoard_line?hoard_line=row.find_date:hoard_line+=" | "+row.find_date);const hoard=common.create_dom_element({element_type:"span",class_name:"info_value hoard",inner_html:hoard_line,parent:data_cont});let mib_type_label="";const image_container=common.create_dom_element({element_type:"div",class_name:"img_container",parent:wrapper}),img_link_ob=common.create_dom_element({element_type:"a",class_name:"image_link",href:common.local_to_remote_path(row.image_obverse),parent:image_container}),image_obverse=common.create_dom_element({element_type:"img",class_name:"image",src:row.image_obverse_thumb,title:row.section_id,dataset:{caption:""},loading:"lazy",parent:img_link_ob});image_obverse.hires=row.image_obverse,image_obverse.addEventListener("load",page.load_hires);const img_link_re=common.create_dom_element({element_type:"a",class_name:"image_link",href:common.local_to_remote_path(row.image_reverse),parent:image_container}),image_reverse=common.create_dom_element({element_type:"img",class_name:"image",src:row.image_reverse_thumb,title:row.section_id,dataset:{caption:""},loading:"lazy",parent:img_link_re});if(image_reverse.hires=row.image_reverse,image_reverse.addEventListener("load",page.load_hires),row.collection&&row.collection.length>0){const collection_former=row.former_collection&&row.former_collection.length>0?row.collection+" ("+row.former_collection+")":row.collection,collection_label=row.number&&row.number.length>0?collection_former+" "+row.number:collection_former;image_obverse.setAttribute("data-caption",collection_label),image_reverse.setAttribute("data-caption",collection_label)}if(row.ref_auction_group)for(let i=0;i<row.ref_auction_group.length;i++){const auction=row.ref_auction_group[i];let auctionGalleryAttributes="";auction.name&&(auctionGalleryAttributes+=auction.name),auction.date&&(auctionGalleryAttributes+=" "+auction.date),auction.number&&(auctionGalleryAttributes+=", "+auction.number),row.number&&(auctionGalleryAttributes+=", "+(tstring.lot||"lot")+" "+row.number),image_obverse.setAttribute("data-caption",auctionGalleryAttributes),image_reverse.setAttribute("data-caption",auctionGalleryAttributes)}if(row.image_obverse_data[0]&&row.image_obverse_data[0].photographer){const currentAttr=image_obverse.getAttribute("data-caption");image_obverse.setAttribute("data-caption",currentAttr+'<spam> | </spam> <i class="fa fa-camera"></i> '+row.image_obverse_data[0].photographer)}return page.activate_images_gallery(image_container),this.last_type=JSON.stringify(row.type_data),fragment}};