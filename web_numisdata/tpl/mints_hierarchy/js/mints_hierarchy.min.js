"use strict";var mints_hierarchy={rows_container:null,set_up:async function(options){const self=this;this.rows_container=options.rows_container;const cecas_iniciales=await this.get_data_mints(21057),nivel=0,arbol_completo=common.create_dom_element({element_type:"div",class_name:"arbol_completo",parent:this.rows_container});return await this.generate_data_mint(21057,arbol_completo,0,0),!0},generate_data_mint:async function(ind,nodo_padre,tab,nivel){const cecas=await this.get_data_mints(ind);for(let index=0;index<cecas.total;index++){const info_node=common.create_dom_element({element_type:"div",class_name:"container_cecas",parent:nodo_padre});info_node.style.paddingLeft=`${tab}em`;let label=cecas.result[index].term_section_label;if("string"==typeof label&&label.trim().startsWith("["))try{label=JSON.parse(label)}catch(e){console.error("No se pudo parsear label:",label)}if(Array.isArray(label)&&(label.includes("Tipo")||label.includes("Cecas"))){let type=cecas.result[index].term_data?cecas.result[index].term_data.replace('"',"").replace("[","").replace("]","").replace('"',""):0;console.log("Type: "+cecas.result[index].term_data);const enlace=common.create_dom_element({element_type:"a",text_content:cecas.result[index].term,parent:info_node});label.includes("Tipo")&&(0!=type||type)?(enlace.href=`/web_numisdata/type/${type}`,enlace.style.fontWeight="normal"):label.includes("Cecas")&&(enlace.href=`/web_numisdata/mint/${type}`,enlace.style.fontWeight="bold")}else info_node.textContent=cecas.result[index].term,label.includes("Tipo")?info_node.style.fontWeight="normal":0===nivel||label.includes("Cecas")?info_node.style.fontWeight="bold":info_node.style.fontWeight="normal";if(cecas.result[index].children){const button_display=common.create_dom_element({element_type:"img",class_name:"button_display",src:"tpl/assets/images/arrow-right.svg",parent:info_node});button_display.classList.add(`button_display_${cecas.result[index].section_id}`);let estado_mostrar_monedas=!1,hijos_creados_monedas=!1;button_display.addEventListener("mousedown",e=>{e.stopPropagation();const hijos_ocultables=Array.from(info_node.children).filter(hijo=>hijo.classList.contains("container_cecas"));estado_mostrar_monedas?(button_display.style.transform="rotate(0deg) translateY(20%) translateX(30%)",hijos_ocultables.forEach(hijo=>hijo.style.display="none")):(button_display.style.transform="rotate(90deg) translateX(30%) translateY(-20%)",hijos_ocultables.forEach(hijo=>hijo.style.display="block"),hijos_creados_monedas||(this.generate_data_mint(cecas.result[index].section_id,info_node,1.5,nivel+1),hijos_creados_monedas=!0)),estado_mostrar_monedas=!estado_mostrar_monedas})}}},get_data_mints:async function(id){try{const cecas=await data_manager.request({body:{dedalo_get:"records",table:"catalog",ar_fields:["*"],sql_filter:`parent LIKE '%"${id}"%'`,limit:0,count:!0,offset:0,order:"norder",process_result:null}});return cecas}catch(err){return console.error("Error fetching mints:",err),null}}};